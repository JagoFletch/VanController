import React, { useState, useEffect } from 'react';
import { ThemeContext } from './contexts/ThemeContext';

const { remote, ipcRenderer } = window.require ? window.require('electron') : { remote: null, ipcRenderer: null };

const App = () => {
  const [isLoading, setIsLoading] = useState(true);
  
  useEffect(() => {
    // Simple loading simulation for development
    const timer = setTimeout(() => {
      setIsLoading(false);
    }, 1000);
    
    return () => clearTimeout(timer);
  }, []);

  if (isLoading) {
    return (
      <div style={{ 
        display: 'flex', 
        justifyContent: 'center', 
        alignItems: 'center', 
        height: '100vh',
        backgroundColor: '#121212',
        color: 'white'
      }}>
        <h2>Loading Van Controller...</h2>
      </div>
    );
  }

  return (
    <div style={{ 
      padding: '20px',
      backgroundColor: '#121212',
      color: 'white',
      height: '100vh',
      boxSizing: 'border-box'
    }}>
      <header style={{ marginBottom: '20px' }}>
        <h1>Van Controller</h1>
        <div>
          {new Date().toLocaleTimeString()} - {new Date().toLocaleDateString()}
        </div>
      </header>
      
      <main>
        <div style={{ 
          backgroundColor: '#1e1e1e',
          padding: '20px',
          borderRadius: '10px',
          marginBottom: '20px'
        }}>
          <h2>Welcome to Van Controller</h2>
          <p>
            This is a development preview. The full application is being set up.
          </p>
        </div>
        
        <div style={{ 
          backgroundColor: '#1e1e1e',
          padding: '20px',
          borderRadius: '10px'
        }}>
          <h2>Extensions</h2>
          <p>No extensions loaded yet.</p>
        </div>
      </main>
    </div>
  );
};

export default App;
